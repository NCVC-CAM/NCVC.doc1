\documentclass[dvipdfmx,a4paper]{ujarticle}

\usepackage{mymacro}
\usepackage{graphicx}
\usepackage[dvipdfmx]{color}
\usepackage{xcolor}
\usepackage{here} % \begin{figure}[H]
\usepackage{ascmac} % \boxnote　ほか
\usepackage{listings, jlisting}
%% -- \url link
\usepackage[linkcolor=black]{hyperref}
\usepackage[hyperrefcolorlinks,os=win]{menukeys}
\usepackage{pxjahyper}
%% --
\lstset{language=c,
  breaklines = true,
  linewidth=\textwidth,
  xleftmargin=20pt,
  xrightmargin=20pt,
  basicstyle={\footnotesize\ttfamily},
  identifierstyle={\footnotesize\ttfamily},
  commentstyle={\footnotesize\ttfamily},
  keywordstyle={\footnotesize\ttfamily},
  ndkeywordstyle={\footnotesize\ttfamily},
  stringstyle={\footnotesize\ttfamily},
  classoffset=1,
  frame=tRBl,
  framesep=5pt,
  showstringspaces=false,
  numbers=left,
  stepnumber=1,
  tabsize=4
}
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 図番号，表番号を章番号付きで
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}
\renewcommand{\thefigure}{\arabic{section}.\arabic{figure}}
\renewcommand{\thetable}{\arabic{section}.\arabic{table}}
\makeatletter
\@addtoreset{equation}{section}
\@addtoreset{figure}{section}
\@addtoreset{table}{section}
% listings用の設定
\AtBeginDocument{
  \renewcommand*{\thelstlisting}{\arabic{section}.\arabic{lstlisting}}%
  \@addtoreset{lstlisting}{section}
}
\makeatother

\begin{document}

\thispagestyle{empty}
\input{./part00.tex}
\newpage

\setcounter{page}{0}
\thispagestyle{empty}
{\small \tableofcontents}
\newpage

\input{No1/part10.tex}
\newpage

\input{No2/part20.tex}
\newpage

\input{initial.sty}
\input{No3/part30.tex}
\newpage

\end{document}
